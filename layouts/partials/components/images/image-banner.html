{{/*
    Usage: 
    {{ partial "components/images/image-banner.html" . }}

    Data:
      image_1: 
        src: "images/sample-4.jpg"
        alt: "Description of the image"
*/}}

{{ $filter := images.Contrast 10 }}
{{ $image := resources.GetMatch .src | images.Filter $filter }}
{{ $image_large := $image.Fill "1216x600 q60" }} <!-- For large screens up to 1216px -->
{{ $image_medium := $image.Fill "810x500 q60" }} <!-- For screens up to 1050px -->
{{ $image_small := $image.Fill "625x400 q60" }}  <!-- For tablets -->
{{ $image_xsmall := $image.Fill "450x300 q80" }} <!-- For small devices -->

<div class="max-w-[1720px] mx-auto">
  <picture>
      <!-- Define image sizes for different screen widths -->
      <source media="(min-width: 1050px)" srcset="{{ $image_large.RelPermalink }}" width="{{ $image_large.Width }}" height="{{ $image_large.Height }}">
      <source media="(min-width: 768px)" srcset="{{ $image_medium.RelPermalink }}" width="{{ $image_medium.Width }}" height="{{ $image_medium.Height }}">
      <source media="(min-width: 480px)" srcset="{{ $image_small.RelPermalink }}" width="{{ $image_small.Width }}" height="{{ $image_small.Height }}">
      <source srcset="{{ $image_xsmall.RelPermalink }}" width="{{ $image_xsmall.Width }}" height="{{ $image_xsmall.Height }}">

      <!-- Fallback for very small screens or browsers that don't support <picture> -->
      <img class="w-full h-[350px] sm:h-[500px] md:h-[550px] lg:h-[600px] object-cover" 
          {{ with .alt }}alt="{{ . }}"{{ end }} 
          loading="lazy" 
          src="{{ $image_xsmall.RelPermalink }}" 
          width="{{ $image_xsmall.Width }}" 
          height="{{ $image_xsmall.Height }}">
  </picture>
</div>